# Code Reorganization Summary

## ä»»åŠ¡å®Œæˆæ€»ç»“

æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼š"ç°åœ¨æ•´ç†ä¸‹æ‰€æœ‰ä»£ç ï¼ŒæŠŠè¿è¡Œæ‰€æœ‰generateæ–‡ä»¶ä¸éœ€è¦çš„ä»£ç ï¼Œä»¥åŠä¸éœ€è¦çš„è¯´æ˜éƒ½æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªæ–°çš„readmeï¼Œåªä»‹ç»æ‰€æœ‰generateæœ‰çš„åŒºåˆ«"

### âœ… å·²å®Œæˆçš„å·¥ä½œ

#### 1. ä»£ç æ•´ç†
- **åˆ›å»º `archived/` ç›®å½•** - ç”¨äºå­˜æ”¾éå¿…éœ€æ–‡ä»¶
- **ç§»åŠ¨120+ä¸ªæ–‡ä»¶** åˆ°å½’æ¡£ç›®å½•ï¼ŒåŒ…æ‹¬ï¼š
  - æ—§ç‰ˆæœ¬ç”Ÿæˆè„šæœ¬ï¼ˆgenerate.py, baseline_generate.py, myriadlama_custom_attention_generate.pyï¼‰
  - æ‰€æœ‰æ–‡æ¡£ï¼ˆdocs/ â†’ archived/docs/ï¼‰
  - æ‰€æœ‰æµ‹è¯•ï¼ˆtests/ â†’ archived/tests/ï¼‰
  - æ‰€æœ‰å·¥å…·ï¼ˆtools/ â†’ archived/tools/ï¼‰
  - æ‰€æœ‰åˆ†æè„šæœ¬ï¼ˆanalysis/ â†’ archived/analysis/ï¼‰
  - æ‰€æœ‰ç¬”è®°æœ¬ï¼ˆnotebooks/ â†’ archived/notebooks/ï¼‰
  - å¯è§†åŒ–å·¥å…·ï¼ˆplot/ â†’ archived/plot/ï¼‰
  - ç¤ºä¾‹ä»£ç ï¼ˆexamples/ â†’ archived/examples/ï¼‰
  - è¾…åŠ©è„šæœ¬ï¼ˆscripts/ â†’ archived/scripts/ï¼‰
  - ä¸´æ—¶/å®éªŒæ–‡ä»¶ï¼ˆbasecopy_mcag.py, position_exchange_g.pyç­‰ï¼‰

#### 2. ä¿ç•™æ ¸å¿ƒæ–‡ä»¶
ä»…ä¿ç•™è¿è¡Œgenerateè„šæœ¬æ‰€éœ€çš„æ ¸å¿ƒæ–‡ä»¶ï¼š
```
src/
â”œâ”€â”€ core/                      # å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ constants.py
â”‚   â”œâ”€â”€ dataset.py
â”‚   â”œâ”€â”€ paraphrase.py
â”‚   â”œâ”€â”€ confidence.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â””â”€â”€ interactive.py
â”œâ”€â”€ generate_baseline.py       # åŸºå‡†ç”Ÿæˆ
â”œâ”€â”€ generate_original.py       # Originalé›†æˆ
â”œâ”€â”€ generate_flex_attention.py # FlexAttentioné›†æˆ
â”œâ”€â”€ generate_myriadlama.py    # MyriadLAMAé›†æˆ
â””â”€â”€ run_interactive.py        # äº¤äº’å¼è¿è¡Œ

æ ¹ç›®å½•ï¼š
â”œâ”€â”€ mask_visualization.py     # Maskå¯è§†åŒ–
â”œâ”€â”€ confidence.py             # ç½®ä¿¡åº¦è®¡ç®—
â”œâ”€â”€ constants.py              # é…ç½®
â”œâ”€â”€ dataset.py                # æ•°æ®é›†
â”œâ”€â”€ paraphrase.py             # é‡Šä¹‰ç”Ÿæˆ
â”œâ”€â”€ utils.py                  # å·¥å…·
â”œâ”€â”€ requirements.txt          # ä¾èµ–
â””â”€â”€ environment*.yml          # ç¯å¢ƒé…ç½®
```

#### 3. æ–°å»ºæ–‡æ¡£

##### GENERATE_README.md (æ ¸å¿ƒæ–‡æ¡£)
è¯¦ç»†ä»‹ç»æ‰€æœ‰4ä¸ªgenerateè„šæœ¬çš„åŒºåˆ«ï¼š

**è„šæœ¬å¯¹æ¯”è¡¨æ ¼**:
| è„šæœ¬ | ç”¨é€” | æ•°æ®é›† | æ–¹æ³• |
|------|------|--------|------|
| generate_baseline.py | åŸºå‡†æµ‹è¯• | WebQA | origin/per_prompt |
| generate_original.py | åŸå§‹é›†æˆ | WebQA | max/avg/weighted |
| generate_flex_attention.py | FlexAttention | WebQA | Attentionçº§èåˆ |
| generate_myriadlama.py | MyriadLAMA | MyriadLAMA | å¡«ç©ºä»»åŠ¡ä¼˜åŒ– |

**åŒ…å«å†…å®¹**:
- æ¯ä¸ªè„šæœ¬çš„è¯¦ç»†è¯´æ˜
- ä½¿ç”¨æ–¹æ³•å’Œç¤ºä¾‹
- å·¥ä½œåŸç†è§£é‡Š
- ç‰¹ç‚¹å’Œä¼˜åŠ¿
- æ•ˆç‡å’Œè´¨é‡å¯¹æ¯”
- é€‰æ‹©æŒ‡å—

##### README.md (ç®€åŒ–ç‰ˆä¸»README)
- ç®€æ´çš„é¡¹ç›®ä»‹ç»ï¼ˆä¸­æ–‡ï¼‰
- æŒ‡å‘GENERATE_README.md
- æ ¸å¿ƒç‰¹æ€§æ¦‚è§ˆ
- å¿«é€Ÿå®‰è£…æŒ‡å—
- åŸºæœ¬ä½¿ç”¨æ–¹æ³•
- ä»“åº“ç»“æ„è¯´æ˜
- å¸¸è§é—®é¢˜

##### archived/README.md (å½’æ¡£è¯´æ˜)
- è§£é‡Šå½’æ¡£ç›®å½•çš„å†…å®¹
- è¯´æ˜å„ä¸ªå½’æ¡£å­ç›®å½•çš„ç”¨é€”
- æŒ‡å¯¼ç”¨æˆ·ä½•æ—¶éœ€è¦æŸ¥çœ‹å½’æ¡£å†…å®¹
- æ˜ç¡®æŒ‡å‡ºè¿™äº›æ–‡ä»¶ä¸æ˜¯å¿…éœ€çš„

#### 4. éªŒè¯
- âœ… æ‰€æœ‰generateè„šæœ¬è¯­æ³•æ£€æŸ¥é€šè¿‡
- âœ… ç›®å½•ç»“æ„æ¸…æ™°ç®€æ´
- âœ… æ–‡æ¡£å®Œæ•´å‡†ç¡®

### ğŸ“Š ç»Ÿè®¡æ•°æ®

- **æ ¹ç›®å½•æ–‡ä»¶**: ä»30+å‡å°‘åˆ°13ä¸ªï¼ˆ~56%å‡å°‘ï¼‰
- **å½’æ¡£æ–‡ä»¶**: 120+ä¸ªæ–‡ä»¶å’Œç›®å½•
- **æ–°å»ºæ–‡æ¡£**: 3ä¸ªï¼ˆGENERATE_README.md, æ›´æ–°çš„README.md, archived/README.mdï¼‰
- **ä¿ç•™çš„generateè„šæœ¬**: 4ä¸ªï¼ˆå…¨éƒ¨åœ¨src/ç›®å½•ä¸‹ï¼‰

### ğŸ¯ ç”¨æˆ·æ”¶ç›Š

1. **æ›´æ¸…æ™°çš„ç»“æ„** - æ ¸å¿ƒæ–‡ä»¶ä¸€ç›®äº†ç„¶
2. **ä¸“æ³¨çš„æ–‡æ¡£** - GENERATE_READMEä¸“é—¨ä»‹ç»generateè„šæœ¬çš„åŒºåˆ«
3. **æ˜“äºä½¿ç”¨** - ç®€åŒ–çš„ä¸»READMEå¿«é€Ÿä¸Šæ‰‹
4. **å®Œæ•´æ€§ä¿ç•™** - æ‰€æœ‰æ–‡ä»¶éƒ½ä¿ç•™åœ¨archived/ä¸­ä¾›éœ€è¦æ—¶æŸ¥é˜…

### ğŸ“ å…³é”®æ–‡æ¡£

- **GENERATE_README.md** - å¿…è¯»ï¼æ‰€æœ‰generateè„šæœ¬çš„è¯¦ç»†å¯¹æ¯”å’Œä½¿ç”¨æŒ‡å—
- **README.md** - å¿«é€Ÿå¼€å§‹å’Œæ¦‚è§ˆ
- **archived/README.md** - å½’æ¡£å†…å®¹è¯´æ˜
- **archived/docs/** - å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£ï¼ˆä¾›æ·±å…¥ç ”ç©¶ï¼‰

---

**å®Œæˆæ—¶é—´**: 2025-12-17
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶éªŒè¯
